<div class="container main-container">

  <h3>Editar Cliente - {{ cliente.primeiroNome + ' ' + cliente.sobrenome }}</h3>

  <hr>
  <div class="row">
      <div class="col-md-10">
          <form enctype="multipart/form-data" (ngSubmit)="editarCliente()" [formGroup]="clienteForm">

              <div class="alert alert-danger" *ngIf="errors.length > 0">
                  <h3 id="msgRetorno">Opa! Alguma coisa não deu certo:</h3>
                  <ul>
                      <li *ngFor="let error of errors">{{ error }}</li>
                  </ul>
              </div>

              <div class="form-group">
                <label class="control-label">Primeiro Nome</label>
                <div>
                  <input class="form-control" id="primeiroNome" type="text" placeholder="Primeiro Nome (requerido)" formControlName="primeiroNome" [ngClass]="{'is-invalid': displayMessage.primeiroNome }" />
                  <span class="text-danger" *ngIf="displayMessage.primeiroNome">
                    <p [innerHTML]="displayMessage.primeiroNome"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Sobrenome</label>
                <div>
                  <input class="form-control" id="sobrenome" type="text" placeholder="Sobrenome (requerido)" formControlName="sobrenome" [ngClass]="{'is-invalid': displayMessage.sobrenome }" />
                  <span class="text-danger" *ngIf="displayMessage.sobrenome">
                    <p [innerHTML]="displayMessage.sobrenome"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Empresa</label>
                <div>
                  <input class="form-control" id="empresa" type="text" placeholder="Empresa" formControlName="empresa" [ngClass]="{'is-invalid': displayMessage.empresa }" />
                  <span class="text-danger" *ngIf="displayMessage.empresa">
                    <p [innerHTML]="displayMessage.empresa"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Endereço</label>
                <div>
                  <input class="form-control" id="endereco" type="text" placeholder="Endereço" formControlName="endereco" [ngClass]="{'is-invalid': displayMessage.endereco }" />
                  <span class="text-danger" *ngIf="displayMessage.endereco">
                    <p [innerHTML]="displayMessage.endereco"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Cidade</label>
                <div>
                  <input class="form-control" id="cidade" type="text" placeholder="Cidade" formControlName="cidade" [ngClass]="{'is-invalid': displayMessage.cidade }" />
                  <span class="text-danger" *ngIf="displayMessage.cidade">
                    <p [innerHTML]="displayMessage.cidade"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Estado</label>
                <div>
                  <input class="form-control" id="estado" type="text" placeholder="Estado" formControlName="estado" [ngClass]="{'is-invalid': displayMessage.estado }" />
                  <span class="text-danger" *ngIf="displayMessage.estado">
                    <p [innerHTML]="displayMessage.estado"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">País</label>
                <div>
                  <input class="form-control" id="pais" type="text" placeholder="País" formControlName="pais" [ngClass]="{'is-invalid': displayMessage.pais }" />
                  <span class="text-danger" *ngIf="displayMessage.pais">
                    <p [innerHTML]="displayMessage.pais"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">CEP</label>
                <div>
                  <input class="form-control" id="cep" type="text" placeholder="CEP" formControlName="cep" [ngClass]="{'is-invalid': displayMessage.cep }" />
                  <span class="text-danger" *ngIf="displayMessage.cep">
                    <p [innerHTML]="displayMessage.cep"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Fone</label>
                <div>
                  <input class="form-control" id="fone" type="text" placeholder="Fone" formControlName="fone" [ngClass]="{'is-invalid': displayMessage.fone }" />
                  <span class="text-danger" *ngIf="displayMessage.fone">
                    <p [innerHTML]="displayMessage.fone"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Fax</label>
                <div>
                  <input class="form-control" id="fax" type="text" placeholder="Fax" formControlName="fax" [ngClass]="{'is-invalid': displayMessage.fax }" />
                  <span class="text-danger" *ngIf="displayMessage.fax">
                    <p [innerHTML]="displayMessage.fax"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Email</label>
                <div>
                  <input class="form-control" id="email" type="email" placeholder="Email" formControlName="email" [ngClass]="{'is-invalid': displayMessage.email }" />
                  <span class="text-danger" *ngIf="displayMessage.email">
                    <p [innerHTML]="displayMessage.email"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label">Suporte</label>
                <div>
                  <select formControlName="suporteId">
                    <option
                      *ngFor="let suporte of funcionarios"
                      value="{{ suporte.funcionarioId }}"
                    >
                      {{ suporte.primeiroNome + ' ' + suporte.sobrenome }}
                    </option>
                  </select>
                  <span class="text-danger" *ngIf="displayMessage.suporteId">
                    <p [innerHTML]="displayMessage.suporteId"></p>
                  </span>
                </div>
              </div>

              <div class="form-group">
                  <input type="submit" [disabled]="!clienteForm.valid" value="Editar" class="btn btn-primary">&nbsp;
                  <a class="btn btn-info" [routerLink]="['/clientes/listar-todos']">Voltar</a>
              </div>
          </form>
      </div>
  </div>
</div>
